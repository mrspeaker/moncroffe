<!--
	Moncroffe: a boxel-y multiplayer game by Mr Speaker

	@mrspeaker
	code: https://github.com/mrspeaker/moncroffe/
-->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Moncroffe, by Mr Speaker</title>
	<link rel="stylesheet" href="res/main.css">
</head>
<body>
	<div id="board"></div>
	<div id="cursor">+</div>
	<div id="gui">grass</div>
	<div id="watch">...loading...</div>
	<div id="lobby">
		<span>Name:</span>
		<input type="text" id="playerName" />
		<button id="lezgo">join</button>
		<div id="creater">
			Start private game:
			<button id="lezcreate">create</button>
		</div>
	</div>
	<div id="blocker">
		<div id="instructions" class="centaur">
			<span style="font-size:40px">Magic Box Get</span>
			<br />
			Find the hidden magic boxes<br/>
			Shoot clowns for guidance (watch the particles).<br/>
			(Your world changes are not seen by others!)<br/><br/>
			WASD/keys: Move, SPACE: Jump, MOUSE: Look<br/>
			Left click: Add block/shoot<br/>
			Right/shift-click: Remove block<br/>
			<br/>
			1/2: adjust mouse sensitivity<br/>
			T: chat<br/>
		</div>
	</div>
	<div id="bg">
		<div id="hudMsg" class="centaur">
			<span id="hudTitle">BLOCK GET!</span><br/>
			by<br/>
			<span id="playerGetName">...</span>
		</div>
		<div id="getReady" class="centaur">
			<span id="getReadyStage">GAME</span> begins in:<br/>
			<span id="gameStartsIn"></span>
		</div>
		<div id="roundOver" class="centaur">
			Round over.<br/>
			<span id="roundWinner">...</span>
		</div>
		<div id="gameOver" class="centaur">
			WINNER<br/>
			<span id="gameOverWin">...</span>
		</div>
	</div>
	<div id="chat">
		<div id="chatLog"></div>
		<div>
			<input type="text" id="chatMsg" />
		</div>
	</div>
	<script src="lib/three/three.min.js"></script>
	<script src="lib/three/CubeGeometry.js"></script>
	<script src="lib/three/UVSprite.js"></script>
	<script src="lib/three/VREffect.js"></script>
	<script src="lib/three/VRControls.js"></script>
	<script src="lib/three/PointerLockControls.js"></script>
	<script src="lib/Perlin.js"></script>

	<script src="/socket.io/socket.io.js"></script>

	<script src="src/data.js"></script>
	<script src="src/user_settings.js"></script>
	<script src="src/core.js"></script>
	<script src="src/utils.js"></script>
	<script src="src/assets/Sound.js"></script>
	<script src="src/world/Chunk.js"></script>
	<script src="src/world/World.js"></script>
	<script src="src/particles/Particle.js"></script>
	<script src="src/entities/Player.js"></script>
	<script src="src/entities/PlayerProxy.js"></script>
	<script src="src/entities/Clown.js"></script>
	<script src="src/entities/Bouy.js"></script>
	<script src="src/entities/Bullet.js"></script>
	<script src="src/entities/Cursor.js"></script>
	<script src="src/screens/TitleScreen.js"></script>
	<script src="src/screens/WorldScreen.js"></script>
	<script src="src/main.js"></script>
	<script src="src/Network.js"></script>

	<script type="x-shader/x-vertex" id="vHemisphere">

		varying vec3 vWorldPosition;

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	</script>

	<script type="x-shader/x-fragment" id="fHemisphere">

		uniform vec3 topColor;
		uniform vec3 bottomColor;
		uniform float offset;
		uniform float exponent;

		varying vec3 vWorldPosition;

		void main() {

			float h = normalize( vWorldPosition + offset ).y;
			gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );

		}

	</script>

	<script>

		window.Settings = {};
		main.init();

	</script>

</body>
</html>
