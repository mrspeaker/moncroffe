<!--
	Moncroffe: a minecraft-y demo by Mr Speaker

	@mrspeaker
	code: https://github.com/mrspeaker/moncroffe/
-->
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Moncroffe</title>
	<link rel="stylesheet" href="res/main.css">
</head>
<body>
	<div id="board"></div>
	<div id="cursor">+</div>
	<div id="gui">grass</div>
	<div id="watch">...loading...</div>
	<div id="blocker">
		<div id="instructions">
			<span style="font-size:40px">Mr Speaker Craft</span>
			<br /><br/>
			WASD/keys = Move, SPACE = Jump, MOUSE = Look<br/>
			CLICK = Add block, right-click (or shft-click) = remove<br/>
			Mouse wheel up/down to change blocks<br/>
			<br/>
			1/2: adjust mouse sensitivity<br/>
			E: toggle Occulus Rift mode (needs VR Browser)<br/>
			Q: toggle ambient occlusion
		</div>
	</div>
	<script src="lib/three.min.js"></script>
	<script src="lib/PointerLockControls.js"></script>
	<script src="lib/VREffect.js"></script>
	<script src="lib/VRControls.js"></script>
	<script src="lib/CubeGeometry.js"></script>
	<script src="lib/Perlin.js"></script>

	<script src="/socket.io/socket.io.js"></script>

	<script src="src/default_settings.js"></script>
	<script src="src/utils.js"></script>
	<script src="src/world/Chunk.js"></script>
	<script src="src/world/World.js"></script>
	<script src="src/particles/Particle.js"></script>
	<script src="src/entities/Player.js"></script>
	<script src="src/entities/PlayerProxy.js"></script>
	<script src="src/entities/Target.js"></script>
	<script src="src/entities/Bullet.js"></script>
	<script src="src/entities/Cursor.js"></script>
	<script src="src/screens/TitleScreen.js"></script>
	<script src="src/screens/WorldScreen.js"></script>
	<script src="src/Network.js"></script>
	<script src="src/main.js"></script>

	<script type="x-shader/x-vertex" id="vHemisphere">

		varying vec3 vWorldPosition;

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}

	</script>

	<script type="x-shader/x-fragment" id="fHemisphere">

		uniform vec3 topColor;
		uniform vec3 bottomColor;
		uniform float offset;
		uniform float exponent;

		varying vec3 vWorldPosition;

		void main() {

			float h = normalize( vWorldPosition + offset ).y;
			gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );

		}

	</script>

	<script>
		main.init();
	</script>

</body>
</html>
